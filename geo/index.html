<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Hello, World</title>
    <!--<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=vjxRk3m3YYQ4uglexlrOxEVwGc2Nw6kF"/>-->
    <script type="text/javascript" src="https://3gimg.qq.com/lightmap/components/geolocation/geolocation.min.js "></script>
    <style type="text/css">
        html {
            height: 100%
        }

        body {
            height: 100%;
            margin: 0px;
            padding: 0px
        }

        #container {
            height: 100%
        }
    </style>
</head>
<body>
<div id='container'></div>
<script>
    function getLocation(){
        if (navigator.geolocation){
            navigator.geolocation.getCurrentPosition(function (position) {
                console.log(position)
                alert(position.coords.latitude)
            },function (error) {
                console.log(error)
                alert(error.message)
            });
        }else{
            alert("浏览器不支持地理定位。");
        }
    }
    getLocation();
//    var lat, lng;
//    if (navigator.geolocation) {
//        navigator.geolocation.getCurrentPosition(showPosition);
//    } else {
//        document.getElementById("container").innerHTML = "该浏览器不支持地理位置！";
//    }
//    function showPosition(position) {
//        console.log(position)
//        lat = position.coords.latitude;
//        lng = position.coords.longitude;
////        alert("纬度" + latlonX + "<br/>经度" + latlonY);
//    }
//    var map = new BMap.Map("container");          // 创建地图实例
//    var point = new BMap.Point(lat, lng);          // 创建点坐标
//    map.centerAndZoom(point, 15);                 // 初始化地图，设置中心点坐标和地图级别
</script>

<script type="text/javascript" >
    //填入自己在腾讯地图开放平台申请的KEY
    var geolocation = new qq.maps.Geolocation("ICJBZ-HJPW3-AZT3G-3TG32-TI5MQ-6UBII", "myapp");
    var options = {timeout: 8000};
    geolocation.getLocation(sucCallback, errCallback,options);
    //成功的回调
    function sucCallback(position)
    {
        var mapInfo=JSON.stringify(position, null, 4);
        var jsonMapInfo=eval('(' + mapInfo + ')');
        alert("经度"+jsonMapInfo.lng+"维度"+jsonMapInfo.lat);
        success(jsonMapInfo.lng,jsonMapInfo.lat);
    }
    //失败的回调
    function errCallback()
    {
        alert("定位失败!");
    }
    //业务逻辑
    function success(lo,la)
    {
        //拿到经纬度的业务逻辑...
    }
</script>
</body>
</html>